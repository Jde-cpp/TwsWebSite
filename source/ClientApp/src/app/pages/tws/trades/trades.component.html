<ng-container *ngIf="data">
	<mat-toolbar style="height:100px">
		<div style="align-content: center; margin: auto;">
			<div style="display: inline-block;margin-left:10px; width:75px">
				<mat-form-field style="width:65px">
					<input matInput type="number" min=1 max=365 placeholder="Days" onclick="this.select();" [ngModel]="dayCount" (keyup.enter)="dayCount=$event.target.value" (blur)="dayCount=$event.target.value" />
				</mat-form-field>
			</div>
			<div style="display: inline-block">
				<div style="margin-left:50px">
					<button mat-icon-button><mat-icon class="iconButton" (click)="addDay( -1 )">keyboard_arrow_left</mat-icon></button>
					<button mat-icon-button><mat-icon class="iconButton" (click)="addDay( 1 )">keyboard_arrow_right</mat-icon></button>
				</div>
				<div>
					<mat-form-field>
						<input matInput [matDatepicker]="dateId" placeholder="Date" [(value)]="_end.value">
						<mat-datepicker-toggle matSuffix [for]="dateId"></mat-datepicker-toggle>
						<mat-datepicker #dateId></mat-datepicker>
					</mat-form-field>
				</div>
			</div>
			<table style="display: inline-block;width:500px">
				<thead>
					<tr><th class="group" colspan="3">Count</th><td></td><th class="group" colspan="3">Income</th><th></th></tr>
					<tr><th>Σ</th><th><mat-icon>add</mat-icon></th><th><mat-icon>remove</mat-icon></th><td></td><th>Σ</th><th><mat-icon>add</mat-icon></th><th><mat-icon>remove</mat-icon></th><th>%</th></tr>
				</thead>
				<tbody><tr>
					<td class="numberCell" [class.negativeValue]="data.return<0" [class.positiveValue]="data.return>0">{{data.count | number:'1.0-0'}}</td>
					<td class="numberCell">{{data.positiveCount | number:'1.0-0'}}</td>
					<td class="numberCell">{{data.negativeCount | number:'1.0-0'}}</td>
					<td></td>
					<td class="numberCell" [class.negativeValue]="data.return<0" [class.positiveValue]="data.return>0">{{data.gain | number:'1.0-0'}}</td>
					<td class="numberCell">{{data.positiveGain | number:'1.0-0'}}</td>
					<td class="numberCell">{{data.negativeGain | number:'1.0-0'}}</td>
					<td class="numberCell" [class.negativeValue]="data.return<0" [class.positiveValue]="data.return>0">{{data.return_ | number:'1.2-2'}}</td>
				</tr></tbody>
			</table>
		</div>
	</mat-toolbar>
	<div style="align-content: center; margin: auto;  text-align: center;">
		<mat-table style="display: inline-block;width:1200px" #mainTable matSort [dataSource]="data" class="mat-elevation-z8" (matSortChange)="sortData($event)"  [matSortActive]="sort.active" [matSortDirection]="sort.direction">
			<ng-container matColumnDef="symbol">
				<mat-header-cell mat-sort-header class="symbolCell" *matHeaderCellDef> Symbol </mat-header-cell>
				<mat-cell class="symbolCell" *matCellDef="let element"> {{element.symbol}} </mat-cell>
			</ng-container>
			<ng-container matColumnDef="shares">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> Shares </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{element.shares | number:'1.0-0'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="openTime">
				<mat-header-cell mat-sort-header class="dateTimeHCell" *matHeaderCellDef> Open </mat-header-cell>
				<mat-cell class="dateTimeBCell" *matCellDef="let element"> {{element.openTime | date: "MM/dd/yy HH:mm:ss"}} </mat-cell>
			</ng-container>
			<ng-container matColumnDef="closeTime">
				<mat-header-cell mat-sort-header class="dateTimeHCell" *matHeaderCellDef> Close </mat-header-cell>
				<mat-cell class="dateTimeBCell" *matCellDef="let element"> {{element.closeTime | date: "HH:mm:ss"}} </mat-cell>
			</ng-container>
			<ng-container matColumnDef="openPrice">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> Open </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{element.openPrice | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="closePrice">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> Close </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{element.closePrice | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="return_">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> Return </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{(element.return_-1)*100 | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="openLongPrediction">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> OLong </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{(element.openLongPrediction-1)*100 | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="openShortPrediction">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> OShort </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{(element.openShortPrediction-1)*-100 | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="closeLongPrediction">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> CLong </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{element.closeLongPrediction==0 ? null : (element.closeLongPrediction-1)*100 | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="closeShortPrediction">
				<mat-header-cell mat-sort-header class="numberHCell" *matHeaderCellDef> CShort </mat-header-cell>
				<mat-cell class="numberBCell" *matCellDef="let element">{{element.closeShortPrediction==0 ? null : (element.closeShortPrediction-1)*-100 | number:'1.2-2'}}</mat-cell>
			</ng-container>
			<mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
			<mat-row mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
		</mat-table>
	</div>
</ng-container>
